{"ast":null,"code":"var _jsxFileName = \"/Users/techi.s./Desktop/Wanderlust-SD/frontend/src/containers/Home.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useRef, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux'; // import Loading from '../assets/img/loading.gif';\n// import postImage from '../assets/img/newspaper-icon-png.jpg';\n// import PostForm from '../components/Posts/PostForm';\n// import Post from '../components/Posts/Post';\n\nimport { fetchPosts } from '../reducks/posts/operations';\nimport { getPosts } from '../reducks/posts/selectors';\nimport Navbar from '../components/Places/Navbar';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Home = () => {\n  _s();\n\n  const dispatch = useDispatch(); // const selector = useSelector(state => state);\n  // const posts = getPosts(selector);\n  // let [page, setPage] = useState(1);\n  // const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    dispatch(fetchPosts({\n      page\n    })); // eslint-disable-next-line\n  }, []); // Infinite Scroll Pagination Flow\n\n  const observer = useRef(); // Reference to a very last post element\n  // const lastPostElement = useCallback(\n  //     node => {\n  //         if (isLoading) return;\n  //         // Disconnect reference from previous element, so that new last element is hook up correctly\n  //         if (observer.current) {\n  //             observer.current.disconnect();\n  //         }\n  //         // Observe changes in the intersection of target element\n  //         observer.current = new IntersectionObserver(async entries => {\n  //             // That means that we are on the page somewhere, In our case last element of the page\n  //             if (entries[0].isIntersecting && posts.next) {\n  //                 // Proceed fetch new page\n  //                 setIsLoading(true);\n  //                 setPage(++page);\n  //                 await dispatch(fetchPosts({ page }));\n  //                 setIsLoading(false);\n  //             }\n  //         });\n  //         // Reconnect back with the new last post element\n  //         if (node) {\n  //             observer.current.observe(node);\n  //         }\n  //     },\n  //     // eslint-disable-next-line\n  //     [posts.next]\n  // );\n\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"content\",\n    children: /*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Home, \"PQ7ccL/hVRpMXOuMstX6XOdo8mk=\", false, function () {\n  return [useDispatch];\n});\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useEffect","useRef","useState","useDispatch","useSelector","fetchPosts","getPosts","Navbar","Home","dispatch","page","observer"],"sources":["/Users/techi.s./Desktop/Wanderlust-SD/frontend/src/containers/Home.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n// import Loading from '../assets/img/loading.gif';\n// import postImage from '../assets/img/newspaper-icon-png.jpg';\n// import PostForm from '../components/Posts/PostForm';\n// import Post from '../components/Posts/Post';\nimport { fetchPosts } from '../reducks/posts/operations';\nimport { getPosts } from '../reducks/posts/selectors';\nimport Navbar from '../components/Places/Navbar';\n\nconst Home = () => {\n    const dispatch = useDispatch();\n    // const selector = useSelector(state => state);\n    // const posts = getPosts(selector);\n    // let [page, setPage] = useState(1);\n    // const [isLoading, setIsLoading] = useState(false);\n\n    useEffect(() => {\n        dispatch(fetchPosts({ page }));\n        // eslint-disable-next-line\n    }, []);\n\n    // Infinite Scroll Pagination Flow\n    const observer = useRef();\n\n    // Reference to a very last post element\n    // const lastPostElement = useCallback(\n    //     node => {\n    //         if (isLoading) return;\n    //         // Disconnect reference from previous element, so that new last element is hook up correctly\n    //         if (observer.current) {\n    //             observer.current.disconnect();\n    //         }\n\n    //         // Observe changes in the intersection of target element\n    //         observer.current = new IntersectionObserver(async entries => {\n    //             // That means that we are on the page somewhere, In our case last element of the page\n    //             if (entries[0].isIntersecting && posts.next) {\n    //                 // Proceed fetch new page\n    //                 setIsLoading(true);\n    //                 setPage(++page);\n    //                 await dispatch(fetchPosts({ page }));\n    //                 setIsLoading(false);\n    //             }\n    //         });\n\n    //         // Reconnect back with the new last post element\n    //         if (node) {\n    //             observer.current.observe(node);\n    //         }\n    //     },\n    //     // eslint-disable-next-line\n    //     [posts.next]\n    // );\n\n    return (\n        <section className=\"content\">\n            <Navbar/>      \n        </section>\n    );\n};\n\nexport default Home;\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,MAA3B,EAAmCC,QAAnC,QAAmD,OAAnD;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC,C,CACA;AACA;AACA;AACA;;AACA,SAASC,UAAT,QAA2B,6BAA3B;AACA,SAASC,QAAT,QAAyB,4BAAzB;AACA,OAAOC,MAAP,MAAmB,6BAAnB;;;AAEA,MAAMC,IAAI,GAAG,MAAM;EAAA;;EACf,MAAMC,QAAQ,GAAGN,WAAW,EAA5B,CADe,CAEf;EACA;EACA;EACA;;EAEAH,SAAS,CAAC,MAAM;IACZS,QAAQ,CAACJ,UAAU,CAAC;MAAEK;IAAF,CAAD,CAAX,CAAR,CADY,CAEZ;EACH,CAHQ,EAGN,EAHM,CAAT,CAPe,CAYf;;EACA,MAAMC,QAAQ,GAAGV,MAAM,EAAvB,CAbe,CAef;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA,oBACI;IAAS,SAAS,EAAC,SAAnB;IAAA,uBACI,QAAC,MAAD;MAAA;MAAA;MAAA;IAAA;EADJ;IAAA;IAAA;IAAA;EAAA,QADJ;AAKH,CAlDD;;GAAMO,I;UACeL,W;;;KADfK,I;AAoDN,eAAeA,IAAf"},"metadata":{},"sourceType":"module"}